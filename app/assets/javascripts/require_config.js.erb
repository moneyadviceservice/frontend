//= depend_on_asset translations/en
//= depend_on_asset translations/cy

//= depend_on_asset jquery/dist/jquery
//= depend_on_asset jquery-waypoints/waypoints
//= depend_on_asset jquery-ujs/src/rails

//= depend_on_asset lib/MASModule
//= depend_on_asset lib/MicroEvent

//= depend_on_asset modules/globals
//= depend_on_asset modules/common
//= depend_on_asset modules/log
//= depend_on_asset modules/i18n

//= depend_on_asset modules/mas_pubsub
//= depend_on_asset modules/mas_scrollTracking
//= depend_on_asset modules/mas_collapsable

//= depend_on_asset components/Toggler

<% def requirejs_path(asset) ; javascript_path(asset).sub(/.js\z/, ''); end %>

// RequireJS config
requirejs.config({
  baseUrl: '<%= Rails.application.config.assets.prefix %>',
  paths: {
    // Translation JSON files
    en: '<%= requirejs_path('translations/en') %>',
    cy: '<%= requirejs_path('translations/cy') %>',

    i18nTokens: '<%= requirejs_path('translations/' + I18n.locale.to_s) %>',

    // External dependancies
    jquery: '<%= requirejs_path('jquery/dist/jquery') %>',
    waypoints: '<%= requirejs_path('jquery-waypoints/waypoints') %>',
    ujs: '<%= requirejs_path('jquery-ujs/src/rails') %>',

    // Internal modules
    MASModule: '<%= requirejs_path('lib/MASModule') %>',
    MicroEvent: '<%= requirejs_path('lib/MicroEvent') %>',

    globals: '<%= requirejs_path('modules/globals') %>',
    common: '<%= requirejs_path('modules/common') %>',
    log: '<%= requirejs_path('modules/log') %>',
    i18n: '<%= requirejs_path('modules/i18n') %>',

    pubsub: '<%= requirejs_path('modules/mas_pubsub') %>',
    scrollTracking: '<%= requirejs_path('modules/mas_scrollTracking') %>',
    analytics: '<%= requirejs_path('modules/mas_analytics') %>',
    collapsable: '<%= requirejs_path('modules/mas_collapsable') %>',

    Toggler: '<%= requirejs_path('components/Toggler') %>'
  },
  shim: {
    'ujs': ['jquery']
  }
});
