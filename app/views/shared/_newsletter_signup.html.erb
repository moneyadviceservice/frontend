<%= form_tag(main_app.newsletter_subscription_path, class: 'newsletter-signup t-newsletter', remote: true) do %>
  <%= hidden_field_tag :authenticity_token, form_authenticity_token -%>
  <%= heading_tag t('newsletter_subscriptions.title'), level: 2, class: 'newsletter-signup__heading' %>

  <ul class="newsletter-signup__benefits-list list-benefits">
    <% t('newsletter_subscriptions.benefits').each do |benefit| %>
      <li><%= benefit %></li>
    <% end %>
  </ul>

  <fieldset class="newsletter-signup__form js-newsletter-form" id="newsletter_signup">
    <% if hide_elements_irrelevant_for_third_parties? %>
      <a href="https://www.moneyadviceservice.org.uk<%= t('footer.contact_us_link') %>#newsletter_signup" class="t-newsletter-button button newsletter-signup__button newsletter-signup__button--third-party"><%= t('newsletter_subscriptions.hidden_title') %></a>
    <% else %>
      <legend class="visually-hidden"><%= t('newsletter_subscriptions.hidden_title') %></legend>
      <%= label_tag('subscription[email]', t('newsletter_subscriptions.label'), class: 'newsletter-signup__label') %>
      <%= text_field_tag('subscription[email]', nil, class: 't-newsletter-email js-newsletter-input newsletter-signup__input') %>
      <%= button_tag(t('newsletter_subscriptions.button'), type: 'submit', class: 't-newsletter-button button newsletter-signup__button') %>
      <%= hidden_field_tag 'subscription[ga_categoryid]', 'Newsletter SignUp' -%>
      <%= hidden_field_tag 'subscription[category]', 'footer' -%>
    <% end %>
  </fieldset>
<% end %>
