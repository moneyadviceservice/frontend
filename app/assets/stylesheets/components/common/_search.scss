// Search component found on the results page and the header
//
// Styleguide Search

.search {
  position: relative;

  .search__input {
    @include body(16,16);
    font-weight: 500;
    height: $baseline-unit*8;
    padding: 0 46px 0 $baseline-unit*2;
    border: 1px solid $color-bluegrey-light;
    line-height: 1;

    &:focus {
      outline-offset: initial;
      padding-right: 96px;
    }

    &::-webkit-input-placeholder {
      color: $color-search-text;
    }

    &:focus::-webkit-input-placeholder {
      color: transparent;
    }

    &:focus:-moz-placeholder {
      color: transparent;
    }

    &:focus::-moz-placeholder {
      color: transparent;
    }
  }

  .search__input--inpage {
    position: relative;
    width: 100%;

    @include respond-to($mq-s) {
      @include column(9);
      position: absolute;
    }
  }
}

.search--inpage {
  min-height: $baseline-unit*9;
}

.search__submit {
  @extend .unstyled-button;
  position: absolute;
  top: 0;
  right: 0;
  width: $baseline-unit*8;
  height: $baseline-unit*8;
  background-color: $color-yellow-light;
  border-top-right-radius: $baseline-unit/2;
  border-bottom-right-radius: $baseline-unit/2;

  .icon--search {
    @include search-icon-colour(black);
    position: absolute;
    top: $baseline-unit*2.5;
    left: $baseline-unit*2.5;
  }

  &:hover,
  &:focus {
    .icon--search {
      @include search-icon-colour(white);
    }
  }

  &:hover {
    outline: 0;
  }
}

.search__clear {
  @extend .unstyled-button;
  position: absolute;
  top: 2px;
  right: 50px;
  width: $baseline-unit*8;
  height: 44px;
  background-color: $color-white;
  display: none;

  & .icon--clear {
    position: relative;
    top: -1px;
  }

  &.is-active {
    display: block;
  }
}

.search__submit--green {
  @include respond-to($mq-l) {
    background-color: $color-white;
    border-bottom-right-radius: $baseline-unit/2;
    border-top-right-radius: $baseline-unit/2;

    .icon--search {
      @include search-icon-colour(black);
    }
  }
}

.search__submit--inpage {
  position: relative;
  width: 100%;
  margin-top: $baseline-unit;
  background-color: $color-button-primary;

  @include respond-to($mq-s) {
    @include column(3);
    position: absolute;
    margin-top: 0;
    margin-left: $baseline-unit;
  }
}

.search__clear--inpage {
  right: $baseline-unit/2;

  @include respond-to($mq-s) {
    right: 27%;
  }
}

.twitter-typeahead {
  width: 100%;
}

.tt-dropdown-menu {
  background: $color-white;
  width: 100%;
  border-bottom-left-radius: 3px;
  border-bottom-right-radius: 3px;
  margin-top: -3px;
  border-left: $default-border-thin;
  border-right: $default-border-thin;
  border-bottom: $default-border-thin;
  position: static !important;

  @include respond-to($mq-m) {
    position: absolute !important;
  }
}

.tt-suggestion {
  & p {
    @include body(16, 24);
    padding: $baseline-unit*2;
    margin: 0;
  }

  &.tt-cursor {
    color: $color-white;
    background-color: $color-green-primary;
    cursor: pointer;
  }
}
